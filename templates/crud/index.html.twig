{% extends 'base.html.twig' %}

{% block title %}Índice de posts{% endblock %}

{% block body %}
    {{ parent() }}
    <div class="row h-100 justify-content-center align-items-center">
    <div class="col-10 bg-white rounded my-3 p-5">
    <center><h1 id="titulo">Índice de posts</h1>
                {% for message in app.flashes('success') %}
                    <div class="alert alert-success">
                {{ message }}
                    </div>
                {% endfor %}
    <table class="table container h-80">
        <thead>
            <tr>
                <th>Id</th>
                <th>Foto</th>
                <th>Descripción</th>
                <th>Likes</th>
                <th>Fecha</th>
                <th>Editar</th>
            </tr>
        </thead>
        <tbody>
        {% for post in posts %}
            <tr>
                <td>{{ post.id }}</td>
                <td>
                    <div class="p-2 bd-highlight">
                        <div class="align-self-center">
                            <img class="rounded" src="{{ asset('uploads/photos/'~post.picture) }}" width="70px">
                        </div>
                    </div>
                </td>
                <td>{{ post.content }}</td>
                <td>{{ post.likes }}</td>
                <td>{{ post.datePost ? post.datePost|date('Y-m-d') : '' }}</td>
                <td>
                    <button class="btn btn-sm btn-primary" type="submit"><a class="btn-link" href="{{ path('app_crud_edit', {'id': post.id}) }}">Editar texto</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="6">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
</div>

{% endblock %}
